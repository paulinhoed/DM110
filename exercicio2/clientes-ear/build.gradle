apply plugin: 'ear'

dependencies {
    deploy project (path: ':clientes-war', configuration: 'archives')
    deploy project (path: ':clientes-ejb')
    
    earlib project (':clientes-api')
    earlib project (':clientes-core')
    earlib project (':clientes-ejb-client')
}

ear{
    deploymentDescriptor {
        def warName = project(':clientes-war').name
        def warVersion = project(':clientes-war').version
        def warFileName = warName + "-" +warVersion + ".war"
        webModule(warFileName, 'clientes')

        def ejbName = project(':clientes-ejb').name
        def ejbVersion = project(':clientes-ejb').version
        def ejbFileName = ejbName + "-" + ejbVersion + ".jar"
        module(ejbFileName, 'ejb')
    }
}